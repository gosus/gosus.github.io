/* Base & Reset */
body, html {
  margin: 0; padding: 0;
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(120deg, #0f0c29, #302b63, #24243e);
  background-size: 600% 600%;
  animation: gradientShift 30s ease infinite;
  color: #fff;
  overflow-x: hidden;
}

/* Animated Gradient */
@keyframes gradientShift {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* Date/Time */
#dateTimeDisplay {
  position: fixed; top: 10px; right: 20px;
  font-size: 1.2rem; color: #0ff;
  font-weight: bold; z-index: 10;
  text-shadow: 0 0 8px #0ff;
}

/* Greeting */
#greeting { font-size: 2rem; margin: 10px 0; text-shadow: 0 0 5px #0ff; }

/* Swipe Container */
#daySwipeContainer { width: 100%; overflow: hidden; position: relative; touch-action: pan-y; margin-top: 20px; }
#daySwipeInner { display: flex; transition: transform 0.4s ease; will-change: transform; }
.dayPanel { min-width: 100%; padding: 10px; box-sizing: border-box; position: relative; }

/* Tasks */
.task {
  background: rgba(0,255,255,0.05);
  border-radius: 12px; margin: 15px 0; padding: 15px;
  font-size: 1.3rem; color: #0ff;
  box-shadow: 0 0 10px rgba(0,255,255,0.3);
  transition: transform 0.3s, box-shadow 0.3s, opacity 0.3s;
  position: relative;
  border: 1px solid rgba(0,255,255,0.2);
}
.task .time { font-size: 1rem; color: #0ff; opacity: 0.7; }

/* Active / past / future */
/* SUPER ACTIVE TASK â€” Glow + Pulse + Gradient + Scanline + Big Text + Float */
.task.active {
    transform: scale(1.16) translateY(-4px);
    border: 3px solid var(--glow-color);
    font-size: 1.35rem;
    font-weight: 700;
    padding: 18px;

    box-shadow:
        0 0 calc(var(--glow-strength) * 0.8) var(--glow-color),
        0 0 calc(var(--glow-strength) * 1.4) var(--glow-color),
        0 0 calc(var(--glow-strength) * 2) var(--glow-color);

    background: linear-gradient(
        135deg,
        rgba(0, 0, 0, 0.9),
        rgba(0, 0, 0, 0.4),
        rgba(0, 0, 0, 0.9)
    );
    background-size: 200% 200%;

    animation:
        pulseGlow 1.4s infinite alternate ease-in-out,
        neonBG 6s ease infinite,
        floaty 4s ease-in-out infinite;

    position: relative;
    overflow: hidden;
    z-index: 20;
}
.task.past { opacity: 0.4; }
.task.future { opacity: 0.6; }

/* Scanning line on active task */
.task.active::after {
  content: "";
  position: absolute;
  top: 0; left: -100%;
  width: 50%; height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0.2), rgba(255,255,255,0.05), rgba(255,255,255,0.2));
  transform: skewX(-25deg);
  animation: scanLine 2s linear infinite;
  pointer-events: none;
}

@keyframes scanLine {
  0% { left: -50%; }
  100% { left: 150%; }
}

/* Pulse glow */
@keyframes pulseGlow {
    0% { transform: scale(1.14) translateY(-4px); }
    100% { transform: scale(1.18) translateY(-4px); }
}

/* Floating levitation */
@keyframes floaty {
    0%   { transform: translateY(-4px); }
    50%  { transform: translateY(-10px); }
    100% { transform: translateY(-4px); }
}

/* Neon background animation */
@keyframes neonBG {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Scanning border line */
.task.active::after {
    content: "";
    position: absolute;
    top: 0;
    left: -120%;
    width: 100%;
    height: 100%;
    border: 2px solid var(--glow-color);
    opacity: 0.7;
    filter: blur(2px);
    animation: borderSweep 2.5s linear infinite;
}

@keyframes borderSweep {
    0%   { transform: translateX(-100%); }
    100% { transform: translateX(240%); }
}

/* Vibration micro-shake when activated */
.task.just-activated {
    animation: shake 0.35s ease;
}

@keyframes shake {
    0%   { transform: translateX(0); }
    20%  { transform: translateX(-4px); }
    40%  { transform: translateX(4px); }
    60%  { transform: translateX(-3px); }
    80%  { transform: translateX(3px); }
    100% { transform: translateX(0); }
}

/* Progress Bar */
.progress-container { width: 100%; height: 6px; background: rgba(0,255,255,0.1); border-radius: 3px; margin-top: 8px; }
.progress-bar { width: 0%; height: 100%; background: var(--glow-color); border-radius: 3px; transition: width 0.3s; }

/* Task Details */
#taskDetails { margin-top: 15px; font-size: 1rem; color: #ff0; text-shadow: 0 0 5px #000; opacity: 0; transition: opacity 0.6s, transform 0.6s; }
#taskDetails.show { opacity: 1; transform: translateY(0); }
#taskDetails a { color: #ff69b4; font-weight: bold; text-decoration: underline; cursor: pointer; }

/* Arrows */
.swipe-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  font-size: 2.5rem; color: rgba(0,255,255,0.7);
  z-index: 5; pointer-events: auto; cursor: pointer;
  text-shadow: 0 0 8px #0ff; animation: pulseArrow 1.5s infinite ease-in-out;
}
.swipe-arrow.left { left: 5px; } .swipe-arrow.right { right: 5px; }
@keyframes pulseArrow { 0%,100% { opacity:0.5; } 50% { opacity:1; } }

/* Holographic Next Task Panel */
#nextTaskPanel {
  position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
  padding: 8px 15px; border: 2px solid #0ff; border-radius: 10px;
  color: #0ff; font-weight: bold; background: rgba(0,255,255,0.1);
  text-shadow: 0 0 10px #0ff;
  animation: pulseGlow 2s infinite alternate;
  z-index: 10;
}

/* Starfield & confetti */
#starfield, #confetti-canvas { position: fixed; top:0; left:0; z-index:0; width:100%; height:100%; }

/* Responsive */
@media (max-width:768px){
  .task { font-size:1.1rem; padding:12px; }
  #dateTimeDisplay { font-size:1rem; }
  .swipe-arrow { font-size:2rem; }
}